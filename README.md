# Проект представляет собой Spring-приложение
(JAR-файл, запускаемый на любом сервере или компьютере), работающее с
локально установленной базой данных MySQL, имеющее простой
веб-интерфейс и API, через который им можно управлять и получать
результаты поисковой выдачи по запросу.

## Принципы работы поискового движка

1. В конфигурационном файле перед запуском приложения задаются
   адреса сайтов, по которым движок должен осуществлять поиск.
2. Поисковый движок самостоятельно обходит все страницы
   заданных сайтов и индексирует их, потом находит наиболее релевантные
   страницы по любому поисковому запросу.
3. Пользователь присылает запрос через API движка. Запрос — это набор
   слов, по которым нужно найти страницы сайта.
4. Запрос определённым образом трансформируется в список слов,
   переведённых в базовую форму. Например, для существительных —
   именительный падеж, единственное число.
5. В индексе ищутся страницы, на которых встречаются все эти слова.
6. Результаты поиска ранжируются, сортируются и отдаются пользователю.

   # Структура проекта
   Проект состоит из нескольких ключевых компонентов:

### 1. База данных (MySQL)

Создание и управление структурой базы данных автоматизировано средствами Hibernate/JPA.Основные сущности (таблицы):

- **site**: информация о сайтах и статусе их индексации.
- **page**: проиндексированные страницы сайта.
- **lemma**: леммы, встречающиеся в текстах.
- **index**: связь между словами и страницами, используется для быстрого поиска.

### 2. Веб-интерфейс
Веб-интерфейс (frontend-составляющая) проекта представляет собой
одну веб-страницу с тремя вкладками:

**● Dashboard.** Эта вкладка открывается по умолчанию. На ней
    отображается общая статистика по всем сайтам, а также детальная
    статистика и статус по каждому из сайтов (статистика, получаемая по
    запросу /api/statistics).

**● Management.** На этой вкладке находятся инструменты управления
    поисковым движком — запуск и остановка полной индексации
    (переиндексации), а также возможность добавить (обновить) отдельную
    страницу по ссылке.

**● Search.** Эта страница предназначена для тестирования поискового
    движка. На ней находится поле поиска, выпадающий список с выбором
    сайта для поиска, а при нажатии на кнопку «Найти» выводятся
    результаты поиска (по API-запросу /api/search).

### 3. REST API

### Методы API для взаимодействия с приложением:

| Метод                      | Описание                                                                                                        |
|----------------------------|-----------------------------------------------------------------------------------------------------------------|
| **GET** /api/startIndexing | Запуск полной индексации или переиндексации всех сайтов. Возвращает ошибку, если уже идет аналогичная операция. |
| **GET** /api/stopIndexing  | Остановка текущего процесса индексации. Возвращает ошибку, если такая операция не активна.                      |
| **POST** /api/indexPage    | Добавляет или обновляет отдельную страницу по указанной ссылке. Возвращает ошибку, если ссылка указана неверно. |
| **GET** /api/statistics    | Возвращает статистику состояния поисковых индексов и состояние движка.                                          |
| **GET** /api/search        | Осуществляет поиск страниц по переданному запросу.                                                              |

### 4. Конфигурационный файл (application.yml)
   Настройка проекта производится в файле `application.yml`. Пример содержимого:

```yml
spring: 
 datasource:
  url: jdbc:mysql://localhost/your_db_name
  username: your_username
  password: your_password

indexing-settings:
    sites:
      - url: https://www.svetlovka.ru
        name: Светлакова.ру
      - url: https://www.playback.ru
        name: PlayBack.Ru/
```
Здесь:

Раздел `datasource` задает параметры соединения с базой данных MySQL, а раздел `indexing-settings` включает список сайтов для автоматической индексации.

# Установка и настройка
Инструкция по установке и настройке проекта:

#### 1. Установите Java JDK версии ≥ 8 и Maven.
#### 2. Скачайте и установите локальную версию MySQL.
#### 3. Создайте новую базу данных.
#### 4. Редактируйте файл `application.yml`, введя правильные данные для подключения к базе данных и список сайтов.
#### 5. Соберите проект командой `mvn clean package`.
#### 6. Запустите приложение командой `java -jar target/your_app.jar`.
#### 7. Проверяйте доступ к интерфейсу по адресу `http://localhost:8080/`.